<?xml version="1.0"?>
<reportTemplates xmlns:d2="http://dhis2.org/schema/dxf/2.0">
    <dataElements>


        <dataElement uid="f9vesk5d4IY" code="NewANC" name="New ANC clients" type="int"/>
        <dataElement uid="hxXwYIgT8rI" code="ReVisitANC" name="Re-Visit ANC Clients" type="int"/>
        <dataElement uid="gAKCshSgSH3" code="IPT1stDose" name="Clients given IPT 1st Dose" type="int"/>
        <dataElement uid="EHGBrVPiG3N" code="IPT2ndDose" name="Clients given IPT 2nd Dose" type="int"/>
        <dataElement uid="T59McmnP4FJ" code="HBReport" name="Clients with Hb less than 11g/dl" type="int"/>
        <dataElement uid="Fz0LzxMT1vV" code="Women4ANCVisits" name="Pregnant women completing 4 ANC visits" type="int"/>
        <dataElement uid="eIvn8VgI5Zx" code="LLITNsDistributed" name="LLITNs distributed to ANC clients " type="int"/> 
		<dataElement uid="eIvn8VgI5Zy" code="LLITNsDistributedUnder1yr" name="LLITNs distributed to Under 1 Year " type="int"/>
		
        <dataElement uid="uvBuzBj0AbL" code="TestedSyphilis" name="ANC clients tested for syphilis" type="int"/>
        <dataElement uid="zIiDTYhg8K5" code="SyphilisPos" name="ANC clients Syphilis +ve" type="int"/>
        <dataElement uid="R6oylU6CF31" code="CounseledIFO" name="Mother counselled on infant feeding options"
                     type="int"/>
        <dataElement uid="COXeamXMWPL" code="BreastExamANC" name="ANC Breast examinated" type="int"/>
        <dataElement uid="DpdsmRZo587" code="ANCExercise" name="ANC given exercises" type="int"/>
        <dataElement uid="chMsCa5zcn7" code="PregAdolescents1014"
                     name="Adolescents (10-14 years) presenting with pregnancy" type="int"/>
        <dataElement uid="uHBmKxktYk0" code="PregAdolescents1519"
                     name="Adolescents (15-19 years) presenting with pregnancy" type="int"/>
        <dataElement uid="QgjmGMoIcGu" code="ANCgvnIron" name="ANC Client given Iron" type="int"/>
        <dataElement uid="JbcvbCEBnu6" code="ANCFolate" name="ANC Client given folate" type="int"/>
        <dataElement uid="NTLdyLadTk1" code="ANCgvnCombined"
                     name="ANC Client Supplemented with Combined Iron and Folate" type="int"/>
        <dataElement uid="eEpRB9ra4jj" code="ANCCounseled" name="ANC clients counselled" type="int"/>
        <dataElement uid="nspwXhqQaAz" code="ANCTested" name="ANC clients Tested HIV" type="int"/>
        <dataElement uid="FCmhDa4kaMp" code="ANCHIVVe" name="ANC clients HIV+ve" type="int"/>
        <dataElement uid="k8qXy4LyyJj" code="MRFOHF" name="Maternity Referrals From Other Health Facility" type="int"/>
        <dataElement uid="xNW6Y9Kitok" code="MRFCUnit" name="Maternal Referrals From Community Unit" type="int"/>
        <dataElement uid="ovJmoErpCRY" code="MRTOHF" name="Maternal Referrals To Other Health Facility" type="int"/>
        <dataElement uid="ijYBkFVUTMV" code="MRTCUnit" name="Maternal Referrals to Community Unit" type="int"/>
        <dataElement uid="psN8NM4IguM" code="RapeCasesPEP" name="GSBV rape cases Initiated PEP" type="int"/>
        <dataElement uid="bmEuZWOFtH6" code="RapeCasesWithin72" name="GSBV cases presenting within 72 hours"
                     type="int"/>
        <dataElement uid="AC54kgHb6gP" code="RapeSurvivorsSeen" name="GSBV rape survivors seen" type="int"/>
        <dataElement uid="uHM6lzLXDBd" code="Progestin" name="Pills progestin only" type="int"/>
        <dataElement uid="BQmcVE8fex4" code="OralContraceptive" name="Pills Combined oral contraceptive" type="int"/>
        <dataElement uid="paDQStynGGD" code="EmergContraceptive" name="Emergency contraceptive pill" type="int"/>
        <dataElement uid="yQFyyQBhXQf" code="FPInjections" name="FP Injections" type="int"/>
        <dataElement uid="DuBH6qPPdaO" code="IUCDInsertions" name="IUCD insertion" type="int"/>
        <dataElement uid="otgQMOXuyIn" code="ImpInsertions" name="Implants insertion" type="int"/>
        <dataElement uid="PggNwT09D3U" code="BTLSteril" name="Sterilization BTL" type="int"/>
        <dataElement uid="Nqt6rz4tqnm" code="VasecSteril" name="Sterilization Vasectomy" type="int"/>
        <dataElement uid="cV4qoKSYiBs" code="MaleCDs" name="Client receiving Male condoms" type="int"/>
        <dataElement uid="Fxb4iVJdw2g" code="FemaleCDs" name="Clients receiving Female Condoms" type="int"/>
        <dataElement uid="OiuBpHJw4kf" code="NaturalFP" name="Natural Family Planning" type="int"/>
        <dataElement uid="IjrWNuj9rzt" code="IUCDRem" name="IUCD Removals" type="int"/>
        <dataElement uid="M4RzpOew1Im" code="ImplantsRem" name="Implants Removals" type="int"/>
        <dataElement uid="G9COyloYLYa" code="ScreeningDone" name="Cervical cancer receiving VIA /VILI /HPV VILI / HPV"
                     type="int"/>
		<dataElement uid="G9COyloYLYa2549" code="ScreeningDone2549" name="Cervical cancer receiving VIA /VILI /HPV VILI / HPV 25-49years"
                    type="int"/>
		<dataElement uid="G9COyloYLYa2549greater50" code="ScreeningDoneOver50" name="Cervical cancer receiving VIA /VILI /HPV VILI / HPV greater than 50years"
                    type="int"/>
		<dataElement uid="G9COyloYLYa2549lessthan25" code="ScreeningDoneUnder25" name="Cervical cancer receiving VIA /VILI /HPV VILI / HPV less than 25years"
                    type="int"/>
        <dataElement uid="dBdw7Inlq2C" code="PositiveVIA" name="Cervical cancer clients with Positive VIA/VILI result"
                     type="int"/>
        <dataElement uid="LI2g0vO0xvx" code="ScreenedHPV" name="Cervical cancer clients screened for HPV test"
                     type="int"/>
		<dataElement uid="LI2g0vO0xvxposHPV" code="PositiveHPV" name="Cervical cancer clients screened with positive HPV result"
                     type="int"/>
		<dataElement uid="LI2g0vO0xvxleep" code="TreatLEEP" name="Cervical cancer treated using LEEP"
                     type="int"/>
		<dataElement uid="LI2g0vO0xvxposhiv" code="HIVPosCervical" name="HIV positive clients screened for cervical cancer"
                     type="int"/>			 
		<dataElement uid="xbERCTpWTwi" code="PositiveCytology"
		             name="Cervical cancer clients with Positive Cytology result" type="int"/>
		<dataElement uid="xbERCTpWTwisuspiciouscancer" code="CancerLesions" name="Cervical cancer clients with suspicious cancer lesions" type="int"/>
		<dataElement uid="xbERCTpWTwicyrotherapy" code="ScreenedCyrotherapy" name="Cervical cancer clients treated using Cryotherapy	" type="int"/>
		<dataElement uid="kl4RvWOGb7x" code="ScreenedPAPSmear" name="Cervical cancer clients screened for Pap smear"
                     type="int"/>
        <dataElement uid="eVukgTGwvaA" code="PNCBreastExam" name="PNC Breast examination" type="int"/>
        <dataElement uid="XFB5uB0XUK9" code="PNCCounselled" name="PNC women counselled" type="int"/>
        <dataElement uid="PxhvYOS2emu" code="PNCFistula" name="PNC fistula cases" type="int"/>
        <dataElement uid="xsiURSENUor" code="PNCExercises" name="PNC exercises" type="int"/>
        <dataElement uid="nqdOcSiHq3A" code="PNCCancerSuspect" name="PNC Cervical Cancer screening suspect results"
                     type="int"/>
        <dataElement uid="wAeGJlvuydG" code="PNCMother23" name="PNC Mothers receiving PNC within 2-3 days" type="int"/>
        <dataElement uid="wJcotSq1Sb6" code="PNCMother6" name="PNC Mothers receiving PNC within 6 days" type="int"/>
        <dataElement uid="FFd29UsDovG" code="PNCInfant23" name="PNC Infants receiving Pospartum care within 2-3 days"
                     type="int"/>
        <dataElement uid="kgL7R0d7KeN" code="PNCInfant6" name="PNC Infants receiving Pospartum care within 6 days"
                     type="int"/>
        <dataElement uid="MhyZy728KkE" code="PNCRFOHF" name="PNC referals From Other Health Facility" type="int"/>
        <dataElement uid="itfA1doKHSL" code="PNCRFCUnit" name="PNC referals From Community Unit" type="int"/>
        <dataElement uid="P42723Zyvcq" code="PNCRTOHF" name="PNC referals To Other Health Facilit" type="int"/>
        <dataElement uid="DrVmz8esUtr" code="PNCRTCUnit" name="PNC referals To Community Unit" type="int"/>
        <dataElement uid="CuCqki3jbcg" code="PatientsWaived" name="Number of waived patients" type="int"/>

    </dataElements>
    <disaggregations>
        <disaggregation uid="OzshuDqmXQI" code="OzshuDqmXQI" name="(default)"/>
    </disaggregations>
    <reportTemplate>
        <name>MOH 711 Integrated Summary Report: Reproductive and Child Health, Medical and Rehabilitation Services
        </name>
        <uid>UpS2bTVcClZ</uid>
        <code>UpS2bTVcClZ</code>
        <timelyDays>15</timelyDays>
        <periodType>Monthly</periodType>
        <dataValueTemplates>
            <dataValueTemplate dataElement="NewANC" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*)
FROM patient_program
WHERE program_id= '1'
AND date_enrolled between :startOfPeriod and :endOfPeriod                </annotation>
            </dataValueTemplate>
            <dataValueTemplate dataElement="ReVisitANC" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT count(*) from (
(SELECT v.patient_id, count(v.patient_id)
FROM visit v
INNER JOIN patient_program pp ON pp.patient_id = v.patient_id
AND pp.program_id = 1
AND v.visit_type_id = 3
AND v.date_started BETWEEN :startOfPeriod AND :endOfPeriod
GROUP BY patient_id
HAVING COUNT(v.patient_id) &gt;= 1) as patientvisits )                </annotation>
            </dataValueTemplate>


            <dataValueTemplate dataElement="IPT1stDose" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*)
FROM patient_state
WHERE state = '25'
AND start_date BETWEEN :startOfPeriod and :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="IPT2ndDose" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*)
FROM patient_state
WHERE state = '26'
AND start_date BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="HBReport" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id = 995 AND value_numeric &lt; 11
AND pp.program_id = 1
AND o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="Women4ANCVisits" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*) from (
(SELECT v.patient_id, count(v.patient_id)
FROM visit v
INNER JOIN patient_program pp ON pp.patient_id = v.patient_id
AND pp.program_id = 1
AND (
    pp.date_completed IS NULL OR (pp.date_completed &gt; :startOfPeriod AND :endOfPeriod)
    AND
    pp.date_enrolled &gt;= DATE_ADD('2016-02-14', INTERVAL -11 MONTH))
AND v.date_started BETWEEN :startOfPeriod AND :endOfPeriod
GROUP BY patient_id
HAVING COUNT(v.patient_id) &gt;= 4) as patientvisits )                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="LLITNsDistributedUnder1yr" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
INNER JOIN person p ON p.person_id = o.person_id
WHERE o.concept_id = 160428 AND o.value_text = '4536f271-5430-4345-b5f7-37ca4cfe1553'
AND pp.program_id = 3
AND (FLOOR(DATEDIFF(:startOfPeriod,p.birthdate) / 365) BETWEEN 10 AND 14
OR FLOOR(DATEDIFF(:endOfPeriod,p.birthdate) / 365) BETWEEN 10 AND 14)
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="LLITNsDistributed" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT count(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id = 160428 
AND (o.value_text = '4536f271-5430-4345-b5f7-37ca4cfe1553' OR o.value_coded = 803)
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="TestedSyphilis" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT count(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id = 2202
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>


            <dataValueTemplate dataElement="SyphilisPos" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT count(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id = 2202 AND o.value_coded = 782
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="CounseledIFO" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT COUNT(*) 
FROM obs
WHERE obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="BreastExamANC" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id = 5538
AND (pp.program_id = 1 OR pp.program_id = 2)
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ANCExercise" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id = 100126144 AND o.value_text = '4536f271-5430-4345-b5f7-37ca4cfe1553'
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>


            <dataValueTemplate dataElement="PregAdolescents1014" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT Count(*) FROM (
SELECT DISTINCT q.person_id, DATEDIFF('2016-07-31',p.birthdate) / 365 age
FROM (
    SELECT DISTINCT o.person_id, DATE(o.obs_datetime) o_date
    FROM obs o
    WHERE o.concept_id = 3057
    AND o.value_coded = 782

    UNION ALL

    SELECT v.patient_id, v.date_started
    FROM visit v
    INNER JOIN patient_program pp ON pp.patient_id = v.patient_id
    AND pp.program_id = 1
    WHERE v.visit_type_id = 2
) AS q
INNER JOIN person p ON q.person_id=p.person_id
AND o_date BETWEEN :startOfPeriod AND :endOfPeriod
) preg
WHERE age BETWEEN 10 AND 14
                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PregAdolescents1519" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT Count(*) FROM (
SELECT DISTINCT q.person_id, DATEDIFF('2016-07-31',p.birthdate) / 365 age
FROM (
    SELECT DISTINCT o.person_id, DATE(o.obs_datetime) o_date
    FROM obs o
    WHERE o.concept_id = 3057
    AND o.value_coded = 782

    UNION ALL

    SELECT v.patient_id, v.date_started
    FROM visit v
    INNER JOIN patient_program pp ON pp.patient_id = v.patient_id
    AND pp.program_id = 1
    WHERE v.visit_type_id = 2
) AS q
INNER JOIN person p ON q.person_id=p.person_id
AND o_date BETWEEN :startOfPeriod AND :endOfPeriod
) preg
WHERE age BETWEEN 15 AND 19                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ANCgvnIron" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM opd_drug_order odo
INNER JOIN patient_program pp ON pp.patient_id = odo.patient_id
INNER JOIN encounter e ON e.encounter_id = odo.encounter_id
WHERE odo.inventory_drug_id = 257
AND e.encounter_type=19
AND pp.program_id = 1
AND odo.created_on BETWEEN :startOfPeriod AND :endOfPeriod
                </annotation>
            </dataValueTemplate>
            <dataValueTemplate dataElement="ANCFolate" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM opd_drug_order odo
INNER JOIN patient_program pp ON pp.patient_id = odo.patient_id
INNER JOIN encounter e ON e.encounter_id = odo.encounter_id
WHERE odo.inventory_drug_id = 31
AND e.encounter_type=19
AND pp.program_id = 1
AND odo.created_on BETWEEN :startOfPeriod AND :endOfPeriod
                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ANCgvnCombined" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM opd_drug_order odo
INNER JOIN patient_program pp ON pp.patient_id = odo.patient_id
INNER JOIN encounter e ON e.encounter_id = odo.encounter_id
WHERE odo.inventory_drug_id IN (134)
AND e.encounter_type=19
AND pp.program_id = 1
AND odo.created_on BETWEEN :startOfPeriod AND :endOfPeriod
                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ANCCounseled" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id IN(3110,100126141,2081,2082,2083)
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ANCTested" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id IN(3110,100126141,2081,2082,2083)
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ANCHIVVe" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id IN(3110,100126141,2081,2082,2083)
AND o.value_coded = 782
AND pp.program_id = 1
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>


            <dataValueTemplate dataElement="MRFOHF" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="MRFCUnit" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="MRTOHF" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs

INNER JOIN encounter en
ON en.encounter_id = obs.encounter_id
AND encounter_type=19

WHERE obs.concept_id=3004
AND value_coded &lt;&gt; 100126128
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="MRTCUnit" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs

INNER JOIN encounter en
ON en.encounter_id = obs.encounter_id
AND encounter_type=19

WHERE obs.concept_id=3004
AND value_coded=100126128
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="RapeCasesPEP" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
            <dataValueTemplate dataElement="RapeCasesWithin72" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="RapeSurvivorsSeen" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="Progestin" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT SUM(0)
FROM obs o
WHERE o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="OralContraceptive" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 780
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod

                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="EmergContraceptive" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 160570
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod

                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="FPInjections" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 5279
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod


                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="IUCDInsertions" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 136452
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod


                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ImpInsertions" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 159589
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod


                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="BTLSteril" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 5276
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod


                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="VasecSteril" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 1489
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod


                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="MaleCDs" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
INNER JOIN person p ON p.person_id = o.person_id
WHERE o.concept_id = 374
AND o.value_coded = 190 AND p.gender = 'M'
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod



                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="FemaleCDs" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
INNER JOIN person p ON p.person_id = o.person_id
WHERE o.concept_id = 374
AND o.value_coded = 190 AND p.gender = 'F'
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod



                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="NaturalFP" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 5277
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod



                </annotation>
            </dataValueTemplate>
            <dataValueTemplate dataElement="IUCDRem" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT COUNT(*)
FROM obs o
WHERE o.concept_id = 374
AND o.value_coded = 4626
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod


                </annotation>
            </dataValueTemplate>
            <dataValueTemplate dataElement="ImplantsRem" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>


            <dataValueTemplate dataElement="ScreeningDone" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT Count(DISTINCT person_id)
FROM   obs
WHERE  concept_id = 100126139
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                  </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="ScreeningDone2549" disaggregation="OzshuDqmXQI">
                <annotation>




SELECT SUM(0) FROM obs o WHERE o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="ScreeningDoneOver50" disaggregation="OzshuDqmXQI">
                <annotation>




SELECT SUM(0) FROM obs o WHERE o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="ScreeningDoneUnder25" disaggregation="OzshuDqmXQI">
                <annotation>




SELECT SUM(0) FROM obs o WHERE o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PositiveVIA" disaggregation="OzshuDqmXQI">
                <annotation>



SELECT SUM(0) FROM obs o WHERE o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>


            <dataValueTemplate dataElement="ScreenedHPV" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs o WHERE o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="PositiveHPV" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs o WHERE o.date_created BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="TreatLEEP" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="HIVPosCervical" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PositiveCytology" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="ScreenedCyrotherapy" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
			
			<dataValueTemplate dataElement="CancerLesions" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="ScreenedPAPSmear" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCBreastExam" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs

INNER JOIN encounter en
ON en.encounter_id = obs.encounter_id
AND encounter_type=20

WHERE obs.concept_id=5538
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCCounselled" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs o
INNER JOIN patient_program pp ON pp.patient_id = o.person_id
WHERE o.concept_id IN(3110,100126141,2081,2082,2083)
AND pp.program_id = 2
AND o.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>
            <dataValueTemplate dataElement="PNCFistula" disaggregation="OzshuDqmXQI">
                <annotation>
SELECT COUNT(DISTINCT p.person_id) AS 'Count'
FROM person p
INNER JOIN obs o ON o.person_id = p.person_id
WHERE p.voided = 0 AND o.voided = 0
AND
  (o.concept_id=5109 OR o.concept_id = 2304)
AND DATE(o.obs_datetime) BETWEEN :startOfPeriod AND :endOfPeriod
AND o.value_coded IN ('1173', '1350', '1388', '1776', '1777', '3838', '3839', '3840', '3842')
AND EXTRACT(YEAR FROM (FROM_DAYS(DATEDIFF(NOW(),p.birthdate)))) &gt; 5 
                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCExercises" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs

INNER JOIN encounter en
ON en.encounter_id = obs.encounter_id
AND encounter_type=20

WHERE obs.concept_id=100126140
AND value_coded = 803
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCCancerSuspect" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs
WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCMother23" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM (
	SELECT person_id, obs_id, DATE(o.value_datetime)dod ,(
		SELECT DATE(date_enrolled)
		FROM patient_program pg
		WHERE pg.program_id=2
		AND o.person_id = pg.patient_id
		AND DATE(pg.date_enrolled) >= DATE(o.obs_datetime)
		ORDER BY pg.date_enrolled DESC
		LIMIT 1
	) AS enrol

	FROM obs o
	INNER JOIN encounter en
	ON en.encounter_id = o.encounter_id
	AND en.encounter_type=20
	
	WHERE o.concept_id=5599
	AND DATE(obs_datetime) BETWEEN :startOfPeriod AND :endOfPeriod
) AS rcv
WHERE DATEDIFF(enrol, dod) &lt;= 3                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCMother6" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM (
	SELECT person_id, obs_id, DATE(o.value_datetime)dod ,(
		SELECT DATE(date_enrolled)
		FROM patient_program pg
		WHERE pg.program_id=2
		AND o.person_id = pg.patient_id
		AND DATE(pg.date_enrolled) >= DATE(o.obs_datetime)
		ORDER BY pg.date_enrolled DESC
		LIMIT 1
	) AS enrol

	FROM obs o
	INNER JOIN encounter en
	ON en.encounter_id = o.encounter_id
	AND en.encounter_type=20
	
	WHERE o.concept_id=5599
	AND DATE(obs_datetime) BETWEEN :startOfPeriod AND :endOfPeriod
) AS rcv
WHERE DATEDIFF(enrol, dod) BETWEEN 3 AND 6                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCInfant23" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCInfant6" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCRFOHF" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCRFCUnit" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCRTOHF" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs

INNER JOIN encounter en
ON en.encounter_id = obs.encounter_id
AND encounter_type=20

WHERE obs.concept_id=3004
AND value_coded &lt;&gt; 100126128
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PNCRTCUnit" disaggregation="OzshuDqmXQI">
                <annotation>


SELECT COUNT(*)
FROM obs

INNER JOIN encounter en
ON en.encounter_id = obs.encounter_id
AND encounter_type=20

WHERE obs.concept_id=3004
AND value_coded=100126128
AND obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

            <dataValueTemplate dataElement="PatientsWaived" disaggregation="OzshuDqmXQI">
                <annotation>

SELECT SUM(0) FROM obs WHERE obs.obs_datetime BETWEEN :startOfPeriod AND :endOfPeriod                </annotation>
            </dataValueTemplate>

        </dataValueTemplates>
    </reportTemplate>
</reportTemplates>
